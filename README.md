# ServiceDesk - Система для работы с обращениями пользователей

**Автор:** Шубина Арина Николаевна, Ярославцев Александр Андреевич  

## Описание проекта

Приложение, которое работает с пользовательскими обращениями, фиксирует их в базе данных, с возможностью принятия этих обращений сотрудниками поддержки

### Основные возможности

- **Обработка входящих писем** - автоматическое создание обращений из email
- **Управление обращениями** - создание, просмотр, изменение статуса обращений
- **Назначение операторов** - привязка обращений к конкретным операторам
- **Система сообщений** - обмен сообщениями между пользователями и операторами
- **Сортировка и фильтрация** - сортировка по дате, фильтрация по статусу
- **Уведомления** - автоматические ответы и уведомления по email

## Технологический стек

### Backend
- **Python 3.12**
- **Django 5.2.6**
- **SQLite**

### Frontend
- **HTML**
- **CSS**
- **Bootstrap**


## Установка и запуск

### 1. Клонирование и настройка окружения

```bash
# Перейдите в папку проекта
cd servicedesk

# Активируйте виртуальное окружение
venv\Scripts\activate  # Windows

# Установите зависимости
pip install -r requirements.txt
```

### 2. Настройка базы данных

```bash
# Примените миграции
python manage.py migrate

# Создайте суперпользователя (оператора)
python manage.py createsuperuser
```

### 3. Настройка почты

Создайте файл `.env` в папке `servicedesk/`:

```env
# Настройки электронной почты
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=your-email@gmail.com

# Настройки Django
SECRET_KEY=#=w^tc!g0eo32-ql3wwqw0elb&i=njcud&zv3@osr#hp(r0iyj
DEBUG=True
```

**Важно:** Для Gmail необходимо создать пароль приложения:
1. Включите двухфакторную аутентификацию
2. Создайте пароль приложения для почты
3. Используйте этот пароль в `EMAIL_HOST_PASSWORD`

### 4. Запуск сервера

```bash
# Запустите Django сервер
python manage.py runserver

# Откройте браузер
# http://localhost:8000
```

### 5. Запуск автоматической проверки почты

```bash
# Windows
start_email_checker.bat

```

## Запуск тестов

```bash
# Подробный вывод тестов
python manage.py test tickets.test_simple --verbosity=2
```

### Что тестируется

1. **Изменение статуса обращения** - проверка корректности смены статусов
2. **Создание сообщений от оператора** - проверка создания сообщений